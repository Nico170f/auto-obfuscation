const Discord=require('discord.js'),fs=require('fs'),Updater=require('./Updater.js'),updateConfig=Updater['updateFile'],getEmbedFile=require('../Functions/GetEmbed.js'),getEmbed=getEmbedFile['getSettingsEmbed'],getMenu=getEmbedFile['getSettingsMenu'],CancelFile=require('../Buttons/CancelSettingUpdate.js'),Cancel=CancelFile['cancel'];async function resetEmbed(_0x57416a,_0x442a65){await getEmbed(_0x57416a['user']['tag'],async function(){await getMenu('Farming',async function(){if(_0x442a65['first']())_0x442a65['first']()['delete']();_0x57416a['message']['edit']({'embeds':[getEmbedFile['Embeds']['FarmingEmbed']],'components':[getEmbedFile['Menus']['SettingsMenu'],getEmbedFile['Buttons']['UpdateCategory']]});});});}async function followUP(_0x423e55,_0x28253c){_0x423e55['followUp']({'content':_0x28253c,'ephemeral':![]})['then'](_0x4f8707=>{setTimeout(function(){_0x4f8707['delete']();},0xbb8);});}module['exports']={'name':'Farming-Update','run':async(_0xe43a2,_0x357193,_0x529b6f)=>{fs['readFile']('./Settings.json','utf8',function(_0xbb63f9,_0x16fc22){var _0x3b65b5=JSON['parse'](_0x16fc22);if(_0x357193['user']['tag']!==_0x357193['message']['embeds'][0x0]['footer']['text'])return _0x357193['reply']({'content':'Please\x20use\x20`.settings`\x20to\x20do\x20this.','ephemeral':!![]});let _0x23e244,_0x2cd82d=null;switch(_0x357193['values'][0x0]){case'Farming\x20Speed':_0x23e244=['Number'],_0x2cd82d=_0x3b65b5['farmingSpeed'];break;case'Farming\x20Radius':_0x23e244=['Number'],_0x2cd82d=_0x3b65b5['farmingRadius'];break;case'Deposit\x20Chest\x20Coords':_0x23e244=['String'],_0x2cd82d=_0x3b65b5['depositChestCoords'];break;case'Crops\x20Till\x20Deposit':_0x23e244=['Number'],_0x2cd82d=_0x3b65b5['cropsTillDeposit'];break;case'Farm\x20Coords':_0x23e244=['String'],_0x2cd82d=_0x3b65b5['farmCoords'];break;default:return console['log']('Error\x20updating\x20settings.');}let _0x10249a=_0x357193['message']['embeds'][0x0];_0x10249a['setDescription']('What\x20should\x20**'+_0x357193['values'][0x0]+'**\x20be\x20changed\x20to?\x20It\x27s\x20currently\x20set\x20to:\x20`'+_0x2cd82d+'`\x0a*Allowed\x20imputs:\x20`'+_0x23e244['toString']()['replace'](/[|]/gi,'\x20')['replace'](/,/gi,',\x20')+'`*');const _0x3a21e7=_0x23bf5e=>_0x23bf5e['author']['id']===_0x357193['user']['id'];_0x357193['update']({'embeds':[_0x10249a],'components':[_0x357193['message']['components'][0x1]]},{'fecthReply':!![]})['then'](async()=>{_0x357193['channel']['awaitMessages']({'filter':_0x3a21e7,'max':0x1,'time':0x7530,'errors':['time']})['then'](async _0x12e518=>{if(Cancel[0x0]){if(Cancel[0x0]['userID']==_0x357193['user']['id']){if(Math['floor'](Date['now']()-Cancel[0x0]['time']/0x3e8)>0x1e)return Cancel['splice'](0x0);else Cancel['splice'](0x0);}}let _0x270a18=_0x12e518['first']()['content'],_0x35435b=![];if(_0x23e244[0x0]['toLowerCase']()!='number'){if(_0x23e244[0x0]['toLowerCase']()!='string'){_0x23e244['forEach'](_0x53ba49=>{_0x53ba49['toLowerCase']()==_0x270a18['toLowerCase']()&&(_0x35435b=!![]);});if(!_0x35435b)return resetEmbed(_0x357193,_0x12e518),followUP(_0x357193,'Invalid\x20imput.');if(_0x270a18['toLowerCase']()=='true'||_0x270a18['toLowerCase']()=='false')_0x270a18=_0x270a18==='true';}}else{if(isNaN(_0x270a18))return resetEmbed(_0x357193,_0x12e518),followUP(_0x357193,'Invalid\x20imput\x20-\x20Please\x20enter\x20a\x20number.');_0x270a18=parseInt(_0x270a18);}try{updateConfig(_0x357193['values'][0x0],_0x270a18,function(){return resetEmbed(_0x357193,_0x12e518),followUP(_0x357193,'Successfully\x20updated\x20`'+_0x357193['values'][0x0]+'`\x20to:\x20**'+_0x12e518['first']()['content']+'**');});}catch(_0x2b8b18){return console['log'](_0x2b8b18);}})['catch'](_0x515979=>{return resetEmbed(_0x357193,_0x515979),followUP(_0x357193,'Timed\x20out.');});});});}};