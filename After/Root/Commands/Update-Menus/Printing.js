const Discord=require('discord.js'),fs=require('fs'),Updater=require('./Updater.js'),updateConfig=Updater['updateFile'],getEmbedFile=require('../Functions/GetEmbed.js'),getEmbed=getEmbedFile['getSettingsEmbed'],getMenu=getEmbedFile['getSettingsMenu'],CancelFile=require('../Buttons/CancelSettingUpdate.js'),Cancel=CancelFile['cancel'];async function resetEmbed(_0x1df0f9,_0x3d4e13){await getEmbed(_0x1df0f9['user']['tag'],async function(){await getMenu('Printing',async function(){if(_0x3d4e13['first']())_0x3d4e13['first']()['delete']();_0x1df0f9['message']['edit']({'embeds':[getEmbedFile['Embeds']['PrintingEmbed']],'components':[getEmbedFile['Menus']['SettingsMenu'],getEmbedFile['Buttons']['UpdateCategory']]});});});}async function followUP(_0x506430,_0x2b79be){_0x506430['followUp']({'content':_0x2b79be,'ephemeral':![]})['then'](_0x483976=>{setTimeout(function(){_0x483976['delete']();},0xbb8);});}module['exports']={'name':'Printing-Update','run':async(_0x37eea8,_0x23884c,_0x1fd617)=>{fs['readFile']('./Settings.json','utf8',function(_0x2f017f,_0x563831){var _0x378e6f=JSON['parse'](_0x563831);if(_0x23884c['user']['tag']!==_0x23884c['message']['embeds'][0x0]['footer']['text'])return _0x23884c['reply']({'content':'Please\x20use\x20`.settings`\x20to\x20do\x20this.','ephemeral':!![]});let _0x472cdc,_0x47d330=null;console['log'](_0x23884c['values'][0x0]);switch(_0x23884c['values'][0x0]){case'Guider\x20Block':_0x472cdc=['String'],_0x47d330=_0x378e6f['guiderBlock'];break;case'Guider\x20Block\x20Range':_0x472cdc=['Number'],_0x47d330=_0x378e6f['findGuiderBlockRange'];break;case'Max\x20Guider\x20Blocks':_0x472cdc=['Number'],_0x47d330=_0x378e6f['maxGuiderBlocks'];break;case'Printing\x20Gamemode':_0x472cdc=['Survival','Creative'],_0x47d330=_0x378e6f['printingGamemode'];break;case'Printing\x20Speed':_0x472cdc=['Number'],_0x47d330=_0x378e6f['farmCoords'];break;default:return console['log']('Error\x20updating\x20settings.');}let _0x1ae212=_0x23884c['message']['embeds'][0x0];_0x1ae212['setDescription']('What\x20should\x20**'+_0x23884c['values'][0x0]+'**\x20be\x20changed\x20to?\x20It\x27s\x20currently\x20set\x20to:\x20`'+_0x47d330+'`\x0a*Allowed\x20imputs:\x20`'+_0x472cdc['toString']()['replace'](/[|]/gi,'\x20')['replace'](/,/gi,',\x20')+'`*');const _0x2c0da6=_0xbe30f0=>_0xbe30f0['author']['id']===_0x23884c['user']['id'];_0x23884c['update']({'embeds':[_0x1ae212],'components':[_0x23884c['message']['components'][0x1]]},{'fecthReply':!![]})['then'](async()=>{_0x23884c['channel']['awaitMessages']({'filter':_0x2c0da6,'max':0x1,'time':0x7530,'errors':['time']})['then'](async _0x54571a=>{if(Cancel[0x0]){if(Cancel[0x0]['userID']==_0x23884c['user']['id']){if(Math['floor'](Date['now']()-Cancel[0x0]['time']/0x3e8)>0x1e)return Cancel['splice'](0x0);else Cancel['splice'](0x0);}}let _0x2bc689=_0x54571a['first']()['content'],_0x3a7ca7=![];if(_0x472cdc[0x0]['toLowerCase']()!='number'){if(_0x472cdc[0x0]['toLowerCase']()!='string'){_0x472cdc['forEach'](_0x4f6714=>{_0x4f6714['toLowerCase']()==_0x2bc689['toLowerCase']()&&(_0x3a7ca7=!![]);});if(!_0x3a7ca7)return resetEmbed(_0x23884c,_0x54571a),followUP(_0x23884c,'Invalid\x20imput.');if(_0x2bc689['toLowerCase']()=='true'||_0x2bc689['toLowerCase']()=='false')_0x2bc689=_0x2bc689==='true';}}else{if(isNaN(_0x2bc689))return resetEmbed(_0x23884c,_0x54571a),followUP(_0x23884c,'Invalid\x20imput\x20-\x20Please\x20enter\x20a\x20number.');_0x2bc689=parseInt(_0x2bc689);}try{updateConfig(_0x23884c['values'][0x0],_0x2bc689,function(){return resetEmbed(_0x23884c,_0x54571a),followUP(_0x23884c,'Successfully\x20updated\x20`'+_0x23884c['values'][0x0]+'`\x20to:\x20**'+_0x54571a['first']()['content']+'**');});}catch(_0x1e2371){return console['log'](_0x1e2371);}})['catch'](_0x19129f=>{return resetEmbed(_0x23884c,_0x19129f),followUP(_0x23884c,'Timed\x20out.');});});});}};