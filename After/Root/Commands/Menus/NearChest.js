const Discord=require('discord.js'),fs=require('fs'),AccountLoading=require('../Functions/AccountLoading.js');module['exports']={'name':'NearChest-Menu','run':async(_0x2e4b2f,_0x2e5bac,_0x57bfdb)=>{fs['readFile']('./Settings.json','utf8',function(_0x2cab9f,_0x47bd3d){var _0x3495fb=JSON['parse'](_0x47bd3d);let _0x523ae4=AccountLoading['loggedIn'];if(_0x2e5bac['user']['tag']!==_0x2e5bac['message']['embeds'][0x0]['footer']['text'])return _0x2e5bac['reply']({'content':'Please\x20use\x20`.farm`\x20to\x20do\x20this.','ephemeral':!![]});if(!_0x523ae4['length'])return _0x2e5bac['reply']({'content':'No\x20bots\x20are\x20currently\x20loaded.','ephemeral':!![]});let _0x8bbfd1;_0x523ae4['forEach'](_0x55fb1d=>{_0x55fb1d['username']==_0x2e5bac['message']['embeds'][0x0]['author']['name']['split'](':\x20')[0x1]&&(_0x8bbfd1=_0x55fb1d);});if(!_0x8bbfd1)return _0x2e5bac['reply']({'content':'Bot:\x20**'+_0x2e5bac['message']['embeds'][0x0]['author']['name']['split'](':\x20')[0x1]+'**\x20is\x20not\x20online.','ephemeral':!![]});let _0x77004c=[{'label':'Wheat','emoji':'🌾'},{'label':'Carrots','emoji':'🥕'},{'label':'Potatoes','emoji':'🥔'},{'label':'Pumpkins','emoji':'🎃'},{'label':'Melons','emoji':'🍉'}];const _0x376582=new Discord['MessageActionRow']()['addComponents'](new Discord['MessageSelectMenu']()['setCustomId']('ChooseCrop-Menu')['setPlaceholder']('Select\x20the\x20crop\x20you\x20wish\x20to\x20farm.'));_0x77004c['forEach'](_0x5f4428=>{_0x5f4428['label']['toLowerCase']()['includes'](_0x8bbfd1['occupation']['farming']['crop']['split']('s')[0x0])||_0x5f4428['label']['toLowerCase']()['includes'](_0x8bbfd1['occupation']['farming']['crop']['replace']('_block','s'))?_0x376582['components'][0x0]['addOptions']([{'label':_0x5f4428['label'],'value':_0x5f4428['label'],'description':'Farm\x20'+_0x5f4428['label'],'emoji':_0x5f4428['emoji'],'default':!![]}]):_0x376582['components'][0x0]['addOptions']([{'label':_0x5f4428['label'],'value':_0x5f4428['label'],'description':'Farm\x20'+_0x5f4428['label'],'emoji':_0x5f4428['emoji']}]);});const _0x3f6d9f=new Discord['MessageActionRow']()['addComponents'](new Discord['MessageButton']()['setCustomId']('farmingStartButton')['setLabel']('Start\x20Farming')['setStyle']('SUCCESS'))['addComponents'](new Discord['MessageButton']()['setCustomId']('farmingStopButton')['setLabel']('Stop\x20Farming')['setStyle']('DANGER')['setDisabled'](!![]))['addComponents'](new Discord['MessageButton']()['setCustomId']('farmingDepositChestButton')['setLabel']('Set\x20Deposit\x20Chest')['setStyle']('PRIMARY'));if(_0x2e5bac['values'][0x0]=='auto'){_0x8bbfd1['occupation']['farming']['depositCoords']='Auto';let _0x6edbc0=new Discord['MessageEmbed']()['setColor'](_0x3495fb['embedColor'])['setAuthor']({'name':'Farm\x20using:\x20'+_0x8bbfd1['username'],'iconURL':'http://cravatar.eu/head/'+_0x8bbfd1['username']+'/32.png'})['setDescription']('Select\x20the\x20crop\x20type\x20in\x20the\x20menu\x20beneath\x20and\x20use\x20the\x20buttons\x20to\x20start\x20farming.\x20\x0a\x0a'+('🔸\x20`Deposit\x20Chest`\x0a⤷\x20\x20**Coords:**\x20'+_0x8bbfd1['occupation']['farming']['depositCoords']))['setFooter'](_0x2e5bac['user']['tag'])['setThumbnail']('https://mc-heads.net/player/'+_0x8bbfd1['username']);_0x2e5bac['update']({'embeds':[_0x6edbc0],'components':[_0x376582,_0x3f6d9f]});}else{if(_0x2e5bac['values'][0x0]=='manual'){const _0x55510b=_0x22f8c3=>_0x22f8c3['author']['id']===_0x2e5bac['user']['id'];_0x2e5bac['reply']({'content':'What\x20should\x20`Deposit\x20Chest\x20Coords`\x20be\x20updated\x20to?','ephemeral':![]},{'fetchReply':!![]})['then'](()=>{_0x2e5bac['channel']['awaitMessages']({'filter':_0x55510b,'max':0x1,'time':0x7530,'errors':['time']})['then'](_0x472ca3=>{let _0xa18f2e=_0x472ca3['first']()['content']['toLowerCase'](),_0x1603dd=_0xa18f2e['split']('\x20');if(_0x1603dd[0x0]){if(isNaN(_0x1603dd[0x0]))return _0x2e5bac['followUp']('This\x20setting\x20only\x20allows\x20numbers.');}if(_0x1603dd[0x1]){if(isNaN(_0x1603dd[0x1]))return _0x2e5bac['followUp']('This\x20setting\x20only\x20allows\x20numbers.');}if(_0x1603dd[0x2]){if(isNaN(_0x1603dd[0x2]))return _0x2e5bac['followUp']('This\x20setting\x20only\x20allows\x20numbers.');}if(!_0x1603dd[0x2]){let _0x3f0131=new Discord['MessageEmbed']()['setColor']('RED')['setDescription']('Invalid\x20input.\x20This\x20setting\x20requires\x203\x20arguments.\x20Example:\x20`10\x20-20\x2030`');_0x2e5bac['followUp']({'embeds':[_0x3f0131]});}else{if(_0x1603dd[0x3]){let _0x5224e5=new Discord['MessageEmbed']()['setColor']('RED')['setDescription']('Invalid\x20input.\x20This\x20setting\x20requires\x203\x20arguments.\x20Example:\x20`10\x20-20\x2030`');_0x2e5bac['followUp']({'embeds':[_0x5224e5]});}else{_0x8bbfd1['occupation']['farming']['depositCoords']=_0x1603dd[0x0]+',\x20'+_0x1603dd[0x1]+',\x20'+_0x1603dd[0x2],_0x2e5bac['deleteReply'](),_0x472ca3['first']()['delete']();let _0x44bc44=new Discord['MessageEmbed']()['setColor'](_0x3495fb['embedColor'])['setAuthor']({'name':'Farm\x20using:\x20'+_0x8bbfd1['username'],'iconURL':'http://cravatar.eu/head/'+_0x8bbfd1['username']+'/32.png'})['setDescription']('Select\x20the\x20crop\x20type\x20in\x20the\x20menu\x20beneath\x20and\x20use\x20the\x20buttons\x20to\x20start\x20farming.\x20\x0a\x0a'+('🔸\x20`Deposit\x20Chest`\x0a⤷\x20\x20**Coords:**\x20'+_0x8bbfd1['occupation']['farming']['depositCoords']))['setFooter'](_0x2e5bac['user']['tag'])['setThumbnail']('https://mc-heads.net/player/'+_0x8bbfd1['username']);_0x2e5bac['message']['edit']({'embeds':[_0x44bc44],'components':[_0x376582,_0x3f6d9f]});}}})['catch'](_0x2a5249=>{_0x2e5bac['followUp']({'content':'Timed\x20out.','ephemeral':!![]});});});}else{_0x8bbfd1['occupation']['farming']['depositCoords']=_0x2e5bac['values'][0x0];let _0x512966=new Discord['MessageEmbed']()['setColor'](_0x3495fb['embedColor'])['setAuthor']({'name':'Farm\x20using:\x20'+_0x8bbfd1['username'],'iconURL':'http://cravatar.eu/head/'+_0x8bbfd1['username']+'/32.png'})['setDescription']('Select\x20the\x20crop\x20type\x20in\x20the\x20menu\x20beneath\x20and\x20use\x20the\x20buttons\x20to\x20start\x20farming.\x20\x0a\x0a'+('🔸\x20`Deposit\x20Chest`\x0a⤷\x20\x20**Coords:**\x20'+_0x8bbfd1['occupation']['farming']['depositCoords']))['setFooter'](_0x2e5bac['user']['tag'])['setThumbnail']('https://mc-heads.net/player/'+_0x8bbfd1['username']);_0x2e5bac['update']({'embeds':[_0x512966],'components':[_0x376582,_0x3f6d9f]});}}});}};