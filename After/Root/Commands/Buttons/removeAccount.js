const fs=require('fs'),AccountLoading=require('../Functions/AccountLoading.js');module['exports']={'name':'RemoveAccount','ownerOnly':!![],'run':async(_0x2efa1d,_0x256e77,_0x3c77cb)=>{fs['readFile']('./Settings.json','utf8',function(_0x503c13,_0x46706c){var _0x5ac5a3=JSON['parse'](_0x46706c);let _0x3f03e0=AccountLoading['loggedIn'];if(_0x256e77['user']['tag']!==_0x256e77['message']['embeds'][0x0]['footer']['text'])return _0x256e77['reply']({'content':'Please\x20use\x20`.accounts`\x20to\x20do\x20this.','ephemeral':!![]});let _0x41b99c=_0x256e77['message']['embeds'][0x0],_0x1af86f=_0x256e77['message']['components'];_0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[]});let _0x30ef41=new _0x3c77cb['MessageEmbed']()['setTitle']('Remove\x20Accounts')['setColor'](_0x5ac5a3['embedColor'])['setDescription']('Please\x20reply\x20to\x20the\x20message\x20using\x20the\x20following\x20format:\x0a```Remove\x20a\x20single\x20account:\x20x\x0aRemove\x20multiple\x20accounts:\x20x-x```\x0aExample:```Remove\x20the\x20first\x20account:\x201\x0aRemove\x20all\x20accounts\x20from\x201\x20to\x205:\x201-5```'),_0x101c9a;try{_0x101c9a=JSON['parse'](fs['readFileSync']('./Accounts.json'));}catch(_0x5a0275){console['log'](_0x5a0275);}let _0x20d0c7=[];_0x3f03e0['forEach'](_0x2e8fb6=>{_0x20d0c7['push'](_0x2e8fb6['email']);});const _0x4775af=_0x1168de=>_0x1168de['author']['id']===_0x256e77['user']['id'];_0x256e77['reply']({'embeds':[_0x30ef41],'ephemeral':![]},{'fetchReply':!![]})['then'](()=>{_0x256e77['channel']['awaitMessages']({'filter':_0x4775af,'max':0x1,'time':0x7530,'errors':['time']})['then'](_0x41602f=>{let _0x17953f=_0x41602f['first']()['content'];if(!_0x17953f['includes']('-')){if(!isNaN(_0x17953f)){let _0x11324d=parseInt(_0x17953f);_0x11324d>_0x101c9a['length']?(_0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[_0x1af86f[0x0]]}),_0x256e77['deleteReply'](),_0x41602f['first']()['delete'](),_0x256e77['followUp']({'content':'Please\x20enter\x20a\x20valid\x20account\x20number\x20to\x20remove.'})['then'](_0x15dc71=>{setTimeout(function(){_0x15dc71['delete']();},0x7d0);})):(_0x101c9a['splice'](_0x11324d-0x1,0x1),fs['writeFile']('./Accounts.json',JSON['stringify'](_0x101c9a,null,0x1),'utf8',async function(_0x4386d4){if(_0x4386d4)_0x256e77['followUp']({'content':'Error,\x20check\x20console.','ephemeral':!![]}),console['log'](_0x4386d4),setTimeout(function(){console['log']('Closing...');},0x4e20);else{let _0x289090=_0x439028();await _0x256e77['message']['edit'](_0x289090),_0x256e77['deleteReply'](),_0x41602f['first']()['delete']();const _0x2ff583=new _0x3c77cb['MessageEmbed']()['setColor']('GREEN')['setDescription']('Successfully\x20removed\x20account:\x20`'+_0x11324d+'`');_0x256e77['followUp']({'embeds':[_0x2ff583]})['then'](_0x372794=>{setTimeout(function(){_0x372794['delete']();},0x7d0);});}}));}else _0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[_0x1af86f[0x0]]}),_0x256e77['deleteReply'](),_0x41602f['first']()['delete'](),_0x256e77['followUp']({'content':'Please\x20only\x20enter\x20valid\x20numbers.'})['then'](_0x3e5df6=>{setTimeout(function(){_0x3e5df6['delete']();},0x7d0);});}else{let _0x5068b7=_0x17953f['split']('-')[0x0],_0x302df2=_0x17953f['split']('-')[0x1];if(isNaN(_0x5068b7)||isNaN(_0x302df2))return _0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[_0x1af86f[0x0]]}),_0x256e77['deleteReply'](),_0x41602f['first']()['delete'](),_0x256e77['followUp']({'content':'Please\x20only\x20enter\x20numbers.'})['then'](_0x2b2d60=>{setTimeout(function(){_0x2b2d60['delete']();},0xfa0);});_0x5068b7=parseInt(_0x5068b7),_0x302df2=parseInt(_0x302df2);if(_0x5068b7<0x1||_0x302df2<=0x1)return _0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[_0x1af86f[0x0]]}),_0x256e77['deleteReply'](),_0x41602f['first']()['delete'](),_0x256e77['followUp']({'content':'Imput\x20numbers\x20too\x20low.\x20Please\x20only\x20enter\x20valid\x20account\x20numbers.'})['then'](_0x3a4781=>{setTimeout(function(){_0x3a4781['delete']();},0xfa0);});if(_0x5068b7>_0x101c9a['length']||_0x302df2>_0x101c9a['length'])return _0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[_0x1af86f[0x0]]}),_0x256e77['deleteReply'](),_0x41602f['first']()['delete'](),_0x256e77['followUp']({'content':'Imput\x20numbers\x20too\x20high.\x20Please\x20only\x20enter\x20valid\x20account\x20numbers.'})['then'](_0x41d1f0=>{setTimeout(function(){_0x41d1f0['delete']();},0xfa0);});if(_0x5068b7>_0x302df2)return _0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[_0x1af86f[0x0]]}),_0x256e77['deleteReply'](),_0x41602f['first']()['delete'](),_0x256e77['followUp']({'content':'Please\x20enter\x20the\x20lowest\x20account\x20number\x20first.\x20See\x20example\x20imput.'})['then'](_0x59c6b8=>{setTimeout(function(){_0x59c6b8['delete']();},0xfa0);});if(_0x5068b7==_0x302df2)return _0x256e77['message']['edit']({'embeds':[_0x41b99c],'components':[_0x1af86f[0x0]]}),_0x256e77['deleteReply'](),_0x41602f['first']()['delete'](),_0x256e77['followUp']({'content':'The\x20second\x20input\x20number\x20must\x20be\x20higher\x20than\x20the\x20first.'})['then'](_0x43605a=>{setTimeout(function(){_0x43605a['delete']();},0xfa0);});_0x101c9a['splice'](_0x5068b7-0x1,_0x302df2-(_0x5068b7-0x1)),fs['writeFile']('./Accounts.json',JSON['stringify'](_0x101c9a,null,0x1),'utf8',async function(_0x5b2dc1){if(_0x5b2dc1){_0x256e77['followUp']({'content':'Error,\x20check\x20console.','ephemeral':!![]});throw _0x5b2dc1;}else{let _0x465cc7=_0x439028();await _0x256e77['message']['edit'](_0x465cc7),_0x256e77['deleteReply'](),_0x41602f['first']()['delete']();const _0x1aeca8=new _0x3c77cb['MessageEmbed']()['setColor']('GREEN')['setDescription']('Successfully\x20removed\x20accounts\x20from\x20`'+_0x5068b7+'`\x20to\x20`'+_0x302df2+'`.');_0x256e77['followUp']({'embeds':[_0x1aeca8]})['then'](_0x567071=>{setTimeout(function(){_0x567071['delete']();},0x7d0);});}});}})['catch'](_0x5bbc05=>{_0x256e77['followUp']({'content':'Timed\x20out.','ephemeral':!![]});});});function _0x439028(){if(!_0x101c9a['length']){const _0xb31678=new _0x3c77cb['MessageEmbed']()['setColor'](_0x5ac5a3['embedColor'])['setTitle']('Accounts')['setDescription']('You\x27ve\x20currently\x20got\x20no\x20accounts\x20stored.\x20To\x20add\x20accounts\x20either\x20manually\x20add\x20them\x20to\x20your\x20Accounts.json\x20file,\x20or\x20use\x20the\x20button\x20below.')['setThumbnail']('https://myminecraftbot.com/images/Headshot.png')['setFooter'](_0x256e77['user']['tag']);return _0x1af86f[0x0]['components']['splice'](0x1),{'embeds':[_0xb31678],'components':[_0x1af86f[0x0]]};}else{let _0x44f8f5='',_0x292648=0x1,_0x46b266=![];_0x101c9a['forEach']((_0x528fa7,_0x597769)=>{if(_0x46b266)return;_0x44f8f5['length']>0x3b6?(_0x44f8f5=_0x44f8f5+('\x0aðŸ””\x20*And\x20'+(_0x101c9a['length']-_0x597769)+'\x20more...*'),_0x46b266=!![]):(_0x20d0c7['includes'](_0x528fa7['username'])?_0x44f8f5=_0x44f8f5+('\x0a:green_circle:\x20**'+_0x292648+'**.\x20'+_0x528fa7['username']):_0x44f8f5=_0x44f8f5+('\x0a:red_circle:\x20**'+_0x292648+'**.\x20'+_0x528fa7['username']),_0x292648++);});const _0x552483=new _0x3c77cb['MessageEmbed']()['setColor'](_0x5ac5a3['embedColor'])['setTitle']('Accounts')['setDescription']('Accounts\x20currently\x20added\x20in\x20the\x20Accounts.json\x20file.\x20Accounts\x20marked\x20with\x20a\x20green\x20circle\x20are\x20currently\x20loaded,\x20whereas\x20accounts\x20with\x20a\x20red\x20cirle,\x20are\x20not.')['addField']('Accounts:',_0x44f8f5)['setThumbnail']('https://myminecraftbot.com/images/Headshot.png')['setFooter'](_0x256e77['user']['tag']);return{'embeds':[_0x552483],'components':[_0x1af86f[0x0]]};}}});}};