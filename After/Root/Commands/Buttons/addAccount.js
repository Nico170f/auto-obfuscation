const fs=require('fs'),AccountLoading=require('../Functions/AccountLoading.js');module['exports']={'name':'AddAccount','ownerOnly':!![],'run':async(_0x587a20,_0x4e9569,_0x2b8ded)=>{fs['readFile']('./Settings.json','utf8',function(_0x30475e,_0x4ca12d){var _0x33ba87=JSON['parse'](_0x4ca12d),_0x4cb8e3=AccountLoading['loggedIn'];if(_0x4e9569['user']['tag']!==_0x4e9569['message']['embeds'][0x0]['footer']['text'])return _0x4e9569['reply']({'content':'Please\x20use\x20`.accounts`\x20to\x20do\x20this.','ephemeral':!![]});let _0x16726e=_0x4e9569['message']['embeds'][0x0],_0x193ae6=_0x4e9569['message']['components'];_0x4e9569['message']['edit']({'embeds':[_0x16726e],'components':[]});let _0x500eb1=new _0x2b8ded['MessageEmbed']()['setTitle']('Add\x20Accounts')['setColor'](_0x33ba87['embedColor'])['setDescription']('Please\x20reply\x20to\x20the\x20message\x20using\x20the\x20following\x20format:\x20```\x0a\x0aEmail1:Password\x0aEmail2:Password\x0aEmail3:Password\x0a...```'),_0xce4feb;try{_0xce4feb=JSON['parse'](fs['readFileSync']('./Accounts.json'));}catch(_0x40066d){console['log'](_0x40066d);}let _0x65bf58=[];_0x4cb8e3['forEach'](_0x1761f7=>{_0x65bf58['push'](_0x1761f7['email']);});const _0x21ebd6=_0x5b12c0=>_0x5b12c0['author']['id']===_0x4e9569['user']['id'];_0x4e9569['reply']({'embeds':[_0x500eb1],'ephemeral':![]},{'fetchReply':!![]})['then'](()=>{_0x4e9569['channel']['awaitMessages']({'filter':_0x21ebd6,'max':0x1,'time':0x7530,'errors':['time']})['then'](_0x4a9f2c=>{let _0x4cd0da=_0x4a9f2c['first']()['content']['split']('\x0a');for(var _0x16beba in _0x4cd0da){let _0xbd63b1=_0x4cd0da[_0x16beba]['split'](':'),_0x16fdd6={'username':_0xbd63b1[0x0],'password':_0xbd63b1[0x1]};try{_0xce4feb['push'](_0x16fdd6);}catch(_0x525f9f){console['log'](_0x525f9f);}}fs['writeFile']('./Accounts.json',JSON['stringify'](_0xce4feb,null,0x1),'utf8',function(_0x14f48f){if(_0x14f48f){_0x4e9569['followUp']({'content':'Error,\x20check\x20console.','ephemeral':!![]});throw _0x14f48f;}else{let _0x4a20ec='',_0x1ea15a=0x1,_0x1a4be8=![];_0xce4feb['forEach']((_0x45c134,_0x1c45f4)=>{if(_0x1a4be8)return;_0x4a20ec['length']>0x3b6?(_0x4a20ec=_0x4a20ec+('\x0aðŸ””\x20*And\x20'+(_0xce4feb['length']-_0x1c45f4)+'\x20more...*'),_0x1a4be8=!![]):(_0x65bf58['includes'](_0x45c134['username'])?_0x4a20ec=_0x4a20ec+('\x0a:green_circle:\x20**'+_0x1ea15a+'**.\x20'+_0x45c134['username']):_0x4a20ec=_0x4a20ec+('\x0a:red_circle:\x20**'+_0x1ea15a+'**.\x20'+_0x45c134['username']),_0x1ea15a++);});const _0x1f440b=new _0x2b8ded['MessageEmbed']()['setColor'](_0x33ba87['embedColor'])['setTitle']('Accounts')['setDescription']('Accounts\x20currently\x20added\x20in\x20the\x20Accounts.json\x20file.\x20Accounts\x20marked\x20with\x20a\x20green\x20circle\x20are\x20currently\x20loaded,\x20whereas\x20accounts\x20with\x20a\x20red\x20cirle,\x20are\x20not.')['addField']('Accounts:',_0x4a20ec)['setThumbnail']('https://myminecraftbot.com/images/Headshot.png')['setFooter'](_0x4e9569['user']['tag']);_0x193ae6[0x0]['components']['length']==0x1?(_0x193ae6[0x0]['addComponents'](new _0x2b8ded['MessageButton']()['setCustomId']('RemoveAccount')['setLabel']('Remove\x20Account')['setStyle']('PRIMARY')),_0x4e9569['message']['edit']({'embeds':[_0x1f440b],'components':[_0x193ae6[0x0]]})):_0x4e9569['message']['edit']({'embeds':[_0x1f440b],'components':[_0x193ae6[0x0]]}),_0x4e9569['deleteReply'](),_0x4a9f2c['first']()['delete']();}});})['catch'](_0x2818e6=>{console['log'](_0x2818e6),_0x4e9569['followUp']({'content':'Timed\x20out.','ephemeral':!![]});});});});}};